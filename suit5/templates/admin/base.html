{% load admin_static %}{% load suit_tags %}{% load url from suit_compat %}<!DOCTYPE html>
{% block html_start %}<html lang="{{ LANGUAGE_CODE|default:"en-us" }}" {% if LANGUAGE_BIDI %}dir="rtl"{% endif %}>{% endblock %}
{% block head %}<head>{% endblock %}
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>{% block title %}{{ title }} | {{ 'ADMIN_NAME'|suit_conf }}{% endblock %}</title>
  {% block before_suit_styles %}{% endblock %}
  <link rel="stylesheet" type="text/css" href="{% block stylesheet %}{% endblock %}"/>
  <!-- Bootstrap 5 -->
  {% block bootstrap_css %}<link rel="stylesheet" type="text/css" href="{% static 'suit5/bootstrap5/css/bootstrap.min.css' %}" media="all"/>{% endblock %}
  <!-- Bootstrap Icons -->
  {% block bootstrap_icons_css %}<link rel="stylesheet" type="text/css" href="{% static 'suit5/icons/bootstrap-icons.min.css' %}" media="all"/>{% endblock %}
  <!-- Django Suit5 -->
  {% block suit_css %}<link rel="stylesheet" type="text/css" href="{% static 'suit5/css/suit.css' %}" media="all">{% endblock %}
  {% block extrastyle %}{% endblock %}
  {% if LANGUAGE_BIDI %}<link rel="stylesheet" type="text/css" href="{% block stylesheet_rtl %}{% static "admin/css/rtl.css" %}{% endblock %}"/>{% endif %}
  <script type="text/javascript">window.__admin_media_prefix__ = "{% filter escapejs %}{% static "admin/" %}{% endfilter %}";</script>
  {% block suit_jquery %}<script src="{% static 'suit5/js/jquery-3.7.1.min.js' %}"></script>{% endblock %}
  <script type="text/javascript">var Suit = { $: $.noConflict() }; if (!$) $ = Suit.$; </script>
  <!-- Django admin core JS for date/time widgets -->
  <script src="{% static 'admin/js/core.js' %}"></script>
  <!-- Bootstrap 5 Bundle (includes Popper) -->
  <script src="{% static 'suit5/bootstrap5/js/bootstrap.bundle.min.js' %}"></script>
  {% if 'SHOW_REQUIRED_ASTERISK'|suit_conf %}
  <style type="text/css">.required:after { content: '*'; margin: 0 0 0 2px; position: absolute; color: #ccc;}</style>
  {% endif %}
  {% block extrahead %}{% endblock %}
  {% block blockbots %}
    <meta name="robots" content="NONE,NOARCHIVE"/>{% endblock %}
  {% block theme_init_js %}<script>
  // Apply theme immediately to prevent flash of wrong theme
  (function() {
    if (localStorage.getItem('suit-theme') === 'dark') {
      document.documentElement.setAttribute('data-bs-theme', 'dark');
    }
  })();
  </script>{% endblock %}
</head>
{% load i18n %}

<body class="{% if is_popup %}popup {% endif %}{% block bodyclass %}{% endblock %}" data-admin-utc-offset="{% now "Z" %}">

{% block body_start %}{% endblock %}

<!-- Sticky footer wrap -->
<div id="wrap">

  {% block before_container %}{% endblock %}
  <!-- Container -->
  {% block container %}
    <div id="container">

      {% block before_header %}{% endblock %}
      {% block header %}
        {% if not is_popup %}
          <!-- Header -->
          <div id="header" class="header">
            <!-- Hamburger toggle (mobile only) -->
            {% block mobile_toggle %}
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas" aria-controls="sidebarOffcanvas" aria-label="Toggle navigation">
              <i class="bi bi-list"></i>
            </button>
            {% endblock %}

            {% block branding_wrapper %}
            <div id="branding">
              <a href="{% url 'admin:index' %}"><h1 id="site-name">{% block branding %}{{ 'ADMIN_NAME'|suit_conf }}{% endblock %}</h1></a>
            </div>
            {% endblock %}

            {% block header_time %}
            <div class="header-content header-content-first">
              <div class="header-column icon">
                <i class="bi bi-clock"></i>
              </div>
              <div class="header-column">
                <span class="date"> {% suit_date %}</span><br>
                <span class="time" id="clock">{% suit_time %}</span>
              </div>
            </div>
            {% endblock %}

            {% block header_content %}
              <!--<div class="header-content">
                <div class="header-column icon">
                  <i class="bi bi-chat"></i>
                </div>
                <div class="header-column">
                  <a href="" class="grey"><b>2</b> new messages</a>
                </div>
              </div>-->
            {% endblock %}

            {% if user.is_active and user.is_staff %}
              {% block user_tools_wrapper %}
              <div id="user-tools">
                {% block welcome-msg %}
                  <span class="welcome-msg">{% trans 'Welcome,' %}
                  <strong>
                    {% filter force_escape %}
                      {% firstof user.first_name user.username %}{% endfilter %}</strong>.</span>
                {% endblock %}
                <span class="user-links">
                {% block userlinks %}
                  {% url 'django-admindocs-docroot' as docsroot %}
                  {% if docsroot %}
                    <a href="{{ docsroot }}">{% trans 'Documentation' %}</a>
                    <span class="separator">|</span>
                  {% endif %}
                  <a href="{% url 'admin:password_change' %}">{% trans 'Change password' %}</a>
                  <span class="separator">|</span>
                  <a href="{% url 'admin:logout' %}">{% trans 'Log out' %}</a>
                {% endblock %}
                </span>
                {% block theme_toggle %}
                <button type="button" class="theme-toggle ms-3" onclick="toggleTheme()" title="Toggle dark/light mode">
                  <i class="bi bi-moon-stars" id="theme-icon"></i>
                </button>
                {% endblock %}
              </div>
              {% endblock user_tools_wrapper %}
            {% endif %}
            {% block nav-global %}{% endblock %}
          </div>
        {% endif %}
        <!-- END Header -->
      {% endblock %}
      {% block after_header %}{% endblock %}


      <div class="suit-columns {{ is_popup|yesno:'one-column,two-columns' }}">

        {% block content-center %}
          <div id="suit-center" class="suit-column">

            {% if not is_popup %}
              {% block breadcrumbs %}
                <ul class="breadcrumb">
                  <li><a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
                    {% if title %}
                      <span class="divider">&raquo;</span>
                      </li>
                      <li class="active">
                      {{ title }}
                    {% endif %}
                    </li>
                </ul>
              {% endblock %}
            {% endif %}

            {% block messages %}
              {% if messages %}

                {% for message in messages %}
                  <div class="alert alert-{% firstof message.tags 'info' %} alert-dismissible fade show">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    {{ message }}
                  </div>
                {% endfor %}
              {% endif %}
            {% endblock messages %}

            <!-- Content -->
            <div id="content" class="{% block coltype %}colM{% endblock %}">
              {% block pretitle %}{% endblock %}
              {% block content_title %}{% if title %}
                <h2 class="content-title">{{ title }}</h2>
              {% endif %}{% endblock %}
              {% block content %}
                {% block object-tools %}{% endblock %}
                {{ content }}
              {% endblock %}
              {% block sidebar_content %}
                {% block sidebar %}{% endblock %}
              {% endblock %}
            </div>
            <!-- END Content -->
          </div>
        {% endblock %}


        {% block content-left %}
          {% if not is_popup %}
            <!-- Desktop sidebar (visible on lg+) -->
            <div id="suit-left" class="suit-column d-none d-lg-block">
              {% block quick-search %}
                {% with 'SEARCH_URL'|suit_conf as search_url %}
                  {% if search_url %}
                    <form class="form-search nav-quick-search" autocomplete="off" action="{% if '/' in search_url %}{{ search_url }}{% else %}{% url search_url %}{% endif %}" method="GET">
                      <input type="text" name="q" class="input-medium search-query" id="quick-search">
                      <i class="input-icon bi bi-search"></i>
                      <input type="submit" class="submit" value="">
                    </form>
                  {% endif %}
                {% endwith %}
              {% endblock %}

              {% block menu %}{% include 'suit5/menu.html' %}{% endblock %}

            </div>

            <!-- Mobile sidebar (offcanvas, visible on <lg) -->
            {% block mobile_sidebar %}
            <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="sidebarOffcanvas" aria-labelledby="sidebarOffcanvasLabel">
              {% block mobile_sidebar_header %}
              <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="sidebarOffcanvasLabel">{{ 'ADMIN_NAME'|suit_conf }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              {% endblock %}
              <div class="offcanvas-body">
                {% block quick-search-mobile %}
                  {% with 'SEARCH_URL'|suit_conf as search_url %}
                    {% if search_url %}
                      <form class="form-search nav-quick-search mb-3" autocomplete="off" action="{% if '/' in search_url %}{{ search_url }}{% else %}{% url search_url %}{% endif %}" method="GET">
                        <input type="text" name="q" class="input-medium search-query form-control" id="quick-search-mobile" placeholder="{% trans 'Search' %}...">
                      </form>
                    {% endif %}
                  {% endwith %}
                {% endblock %}

                {% block mobile_menu %}{% include 'suit5/menu.html' %}{% endblock %}
              </div>
            </div>
            {% endblock %}
          {% endif %}
        {% endblock %}

      </div>
    </div>
  {% endblock %}

  {% if not is_popup %}
  <!-- Sticky footer push -->
  <div id="push"></div>
  {% endif %}

</div>

{% block before_footer %}{% endblock %}
{% block footer %}
  {% if not is_popup %}
  <div id="footer" class="footer">
    <div class="content">
      {% block footer_content %}
      <div class="tools">
        {% block footer_links %}
          <a href="http://djangosuit.com/support/" target="_blank" class="icon"><i class="bi bi-question-circle"></i> Support</a>
          <a href="http://djangosuit.com/pricing/" target="_blank" class="icon"><i class="bi bi-bookmark"></i> Licence</a>
          <a href="http://github.com/darklow/django-suit/issues" target="_blank" class="icon"><i class="bi bi-chat"></i> Report a bug</a>
        {% endblock %}
      </div>

      <div class="copyright">
        {% block copyright %}
          Copyright &copy; 2013-{% now "Y" %} DjangoSuit.com<br>Developed by <a href="http://djangosuit.com" target="_blank">DjangoSuit.com</a>
        {% endblock %}
      </div>

      <div class="branding">{% block footer_branding %}
        {% with 'ADMIN_NAME'|suit_conf as admin_name %}
          {{ admin_name }}
          {% if admin_name == 'Django Suit5' %}
            v{{ 'VERSION'|suit_conf }}
          {% endif %}
        {% endwith %}
      {% endblock %}</div>
      {% endblock footer_content %}
    </div>
  </div>
  {% endif %}
{% endblock %}
{% block after_footer %}{% endblock %}

  {% block suit_js %}<script src="{% static 'suit5/js/suit.js' %}"></script>{% endblock %}

  <!-- Theme Toggle Script -->
  {% block theme_toggle_js %}<script>
  function toggleTheme() {
    const html = document.documentElement;
    const icon = document.getElementById('theme-icon');
    const isDark = html.getAttribute('data-bs-theme') === 'dark';

    if (isDark) {
      html.removeAttribute('data-bs-theme');
      icon.classList.remove('bi-sun');
      icon.classList.add('bi-moon-stars');
      localStorage.setItem('suit-theme', 'light');
    } else {
      html.setAttribute('data-bs-theme', 'dark');
      icon.classList.remove('bi-moon-stars');
      icon.classList.add('bi-sun');
      localStorage.setItem('suit-theme', 'dark');
    }
  }

  // Sync icon on DOMContentLoaded (data-bs-theme already set in head)
  document.addEventListener('DOMContentLoaded', function() {
    const savedTheme = localStorage.getItem('suit-theme');
    const icon = document.getElementById('theme-icon');

    if (savedTheme === 'dark' && icon) {
      icon.classList.remove('bi-moon-stars');
      icon.classList.add('bi-sun');
    }
  });
  </script>{% endblock theme_toggle_js %}

  {% block extrajs %}{% endblock %}

</body>
</html>
